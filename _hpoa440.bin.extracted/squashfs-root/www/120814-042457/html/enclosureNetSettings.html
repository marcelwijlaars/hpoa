<!--  (C) Copyright 2006-2014 Hewlett-Packard Development Company, L.P.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>HP BladeSystem Onboard Administrator</title>
<link rel="stylesheet" type="text/css" href="../css/default.css">
<link rel="stylesheet" type="text/css" href="../css/blue_theme.css">
<link rel="stylesheet" type="text/css" href="../css/MxPortalEx.css">
<link rel="stylesheet" type="text/css" href="../css/widgets.css">
<script src="../js/EnvironConstants.js" type="text/javascript"></script>
<script type="text/javascript" src="../js/tabManager.js"></script>
<script type="text/javascript" src="../js/EnvironConstants.js"></script>
<script type="text/javascript" src="../js/buttonManager.js"></script>
<script type="text/javascript" src="../js/global.js"></script>
<script type="text/javascript" src="../js/inputValidator.js"></script>
<script type="text/javascript" src="../js/formManager.js"></script>
<script type="text/javascript" src="../js/displayManager.js"></script>
<script type="text/javascript" src="../js/batchManager.js"></script>
<script type="text/javascript" src="../js/browser.js"></script>
<script type="text/javascript" src="../js/init.js"></script>
<script type="text/javascript" src="../js/xml.js"></script>
<script type="text/javascript" src="../js/xslt.js"></script>
<script type="text/javascript" src="../Wizards/js/Setup.js"></script>

<script type="text/javascript">	
var encNum;
var contextId="FORM_IPV4";
var hpem=null;
var role='';
var isStandby=top.checkStandby();
function loadContent(){
try{
encNum=parseInt(getSearchValue(location.search,'encNum'));
var tabRef=getSearchValue(location.search,'tabid');
if(!isNaN(encNum)&&(hpem=top.mainPage.getHiddenFrame().getProxy(encNum))!=null){
if(hpem.getActiveFirmwareVersion()>=4.00){
document.getElementById("advTab").style.display="block";
}
selectTab((tabRef==''?'ipv4Tab':tabRef),true);
}else{
displayContentFailed('bodyContent',[top.getString('noOnboardAdmin')]);
}
}catch(e){
displayContentFailed('bodyContent',[e.message]);
}
}
function loadContentNic(){
try{
var nicTab=document.getElementById('nicTab');
var contextId=nicTab.getAttribute('contextId');
top.mainPage.getHelpLauncher().setCurrentTopic(contextId);
var contentLocation=nicTab.getAttribute('contentLocation');
initNetSettings(contentLocation);
}catch(e){
displayContentFailed('bodyContent',[e.message]);
}
}
function initNetSettings(contentLocation){
formMgr=new FormManager(function(success){
if(success){
var hasStandby=(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]',true)!=null);
var processor=new XsltProcessor(contentLocation);
processor.addParameter('stringsDoc',top.getStringsDoc());
var standbyOaNetworkInfoDoc=hpem.getOaNetworkInfoByMode(STANDBY(),null,false);
if(standbyOaNetworkInfoDoc==null){
standbyOaNetworkInfoDoc=top.getXml().parseXML("<br />");
}
processor.addParameter('enclosureName',hpem.getEnclosureName());
processor.addParameter('enclosureNum',encNum);
processor.addParameter('enclosureType',hpem.getEnclosureType());
processor.addParameter('activeOaNetworkInfo',hpem.getOaNetworkInfoByMode(ACTIVE(),null,false));
processor.addParameter('networkInfoDoc',hpem.getEnclosureNetworkInfo());
processor.addParameter('standbyOaNetworkInfo',standbyOaNetworkInfoDoc);
processor.addParameter('hasStandby',String(hasStandby));
processor.addParameter('activeBoardType',getElementValueXpath(hpem.getOaInfoByMode('ACTIVE',null,false),'//hpoa:oaInfo/hpoa:extraData[@hpoa:name="BoardType"]'));
document.getElementById('bodyContent').innerHTML=processor.getOutput();
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettings.xsl');
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',hpem.getOaNetworkInfoByMode(ACTIVE(),null,false));
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(ACTIVE(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(ACTIVE()));
processor.addParameter('oaMode',ACTIVE());
processor.addParameter('isWizard','false');
var containerId='enc'+hpem.getEnclosureNumber()+'activeNetSettingsContainer';
var container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
if(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]/hpoa:bayNumber')!=''){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettings.xsl');
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',hpem.getOaNetworkInfoByMode(STANDBY(),null,false));
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(STANDBY(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(STANDBY()));
processor.addParameter('oaMode',STANDBY());
processor.addParameter('isWizard','false');
containerId='enc'+hpem.getEnclosureNumber()+'standbyNetSettingsContainer';
container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
}
else{
var standbyOuterContainer=document.getElementById('enc'+hpem.getEnclosureNumber()+'standbyOuterContainer');
if(standbyOuterContainer){
standbyOuterContainer.style.display='none';
}
}
try{
document.getElementById('waitContainer').style.display='none';
}catch(e){}
reconcilePage();
}
else{
displayContentFailed('bodyContent',formMgr.getErrorsArray());
}
},true,'','bodyContent');
formMgr.startBatch(true);
formMgr.queueCall(hpem.getOaNetworkInfoAll);
formMgr.queueCall(hpem.getEnclosureNetworkInfo);
formMgr.endBatch();
}
function initNetSettings6(contentLocation){
formMgr=new FormManager(function(success){
if(success){
var hasStandby=(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]',true)!=null);
var processor=new XsltProcessor(contentLocation);
processor.addParameter('stringsDoc',top.getStringsDoc());
var standbyOaNetworkInfoDoc=hpem.getOaNetworkInfoByMode(STANDBY(),null,false);
if(standbyOaNetworkInfoDoc==null){
standbyOaNetworkInfoDoc=top.getXml().parseXML("<br />");
}
processor.addParameter('enclosureName',hpem.getEnclosureName());
processor.addParameter('enclosureNum',encNum);
processor.addParameter('enclosureType',hpem.getEnclosureType());
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
processor.addParameter('activeOaNetworkInfo',hpem.getOaNetworkInfoByMode(ACTIVE(),null,false));
processor.addParameter('networkInfoDoc',hpem.getEnclosureNetworkInfo());
processor.addParameter('standbyOaNetworkInfo',standbyOaNetworkInfoDoc);
processor.addParameter('hasStandby',String(hasStandby));
processor.addParameter('activeBoardType',getElementValueXpath(hpem.getOaInfoByMode('ACTIVE',null,false),'//hpoa:oaInfo/hpoa:extraData[@hpoa:name="BoardType"]'));
document.getElementById('bodyContent').innerHTML=processor.getOutput();
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettingsIpv6.xsl');
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',hpem.getOaNetworkInfoByMode(ACTIVE(),null,false));
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(ACTIVE(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(ACTIVE()));
processor.addParameter('oaMode',ACTIVE());
processor.addParameter('isWizard','false');
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
var containerId='enc'+hpem.getEnclosureNumber()+'activeNetSettingsContainer';
var container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
if(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]/hpoa:bayNumber')!=''){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettingsIpv6.xsl');
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',hpem.getOaNetworkInfoByMode(STANDBY(),null,false));
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(STANDBY(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(STANDBY()));
processor.addParameter('oaMode',STANDBY());
processor.addParameter('isWizard','false');
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
containerId='enc'+hpem.getEnclosureNumber()+'standbyNetSettingsContainer';
container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
}
else{
var standbyOuterContainer=document.getElementById('enc'+hpem.getEnclosureNumber()+'standbyOuterContainer');
if(standbyOuterContainer){
standbyOuterContainer.style.display='none';
}
}
try{
document.getElementById('waitContainer').style.display='none';
}catch(e){}
reconcilePage();
}
else{
displayContentFailed('bodyContent',formMgr.getErrorsArray());
}
},true,'','bodyContent');
formMgr.startBatch(true);
formMgr.queueCall(hpem.getOaNetworkInfoAll);
formMgr.queueCall(hpem.getEnclosureNetworkInfo);
formMgr.endBatch();
}
function enableDisableControls(tabId){
if(tabId!='ipv4Tab')
return;
var activeDhcpRadio=document.getElementById('activeIPSettingDHCP');
if(!activeDhcpRadio.checked)
toggleFormEnabled('frmContainerActiveDHCP',false);
var standbyDhcpRadio=document.getElementById('standbyIPSettingDHCP');
if(!standbyDhcpRadio.checked)
toggleFormEnabled('frmContainerStandbyDHCP',false);
}
function selectTab(tabId,fresh){
if(typeof(fresh)=='undefined'){
var fresh=false;
}
ourTabManager.toggleTabs(tabId);
setTabContent(tabId,fresh);
}
function getCurrentTab(){
return ourTabManager.getCurrentTab();
}
function setTabContent(tabId,fresh){
try{
var contentTab=document.getElementById(tabId);
var contentLocation=contentTab.getAttribute('contentLocation');
contextId=contentTab.getAttribute('contextId');
top.mainPage.getHelpLauncher().setCurrentTopic(contextId);
formMgr=new FormManager(function(success){
if(success){
var hasStandby=(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]',true)!=null);
var processor=new XsltProcessor(contentLocation);
processor.addParameter('stringsDoc',top.getStringsDoc());
var activeOaNetworkInfoDoc=hpem.getOaNetworkInfoByMode(ACTIVE(),null,false);
var standbyOaNetworkInfoDoc=hpem.getOaNetworkInfoByMode(STANDBY(),null,false);
if(standbyOaNetworkInfoDoc==null){
standbyOaNetworkInfoDoc=top.getXml().parseXML("<br />");
}
var ipSwap=getElementValueXpath(hpem.getEnclosureNetworkInfo(),"//hpoa:enclosureNetworkInfo/hpoa:extraData[@hpoa:name='IpSwap']");
processor.addParameter('enclosureName',hpem.getEnclosureName());
processor.addParameter('enclosureNum',encNum);
processor.addParameter('enclosureType',hpem.getEnclosureType());
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
processor.addParameter('ipSwap',ipSwap);
processor.addParameter('activeOaNetworkInfo',activeOaNetworkInfoDoc);
processor.addParameter('standbyOaNetworkInfo',standbyOaNetworkInfoDoc);
processor.addParameter('networkInfoDoc',hpem.getEnclosureNetworkInfo());
processor.addParameter('hasStandby',String(hasStandby));
processor.addParameter('activeBoardType',getElementValueXpath(hpem.getOaInfoByMode('ACTIVE',null,false),'//hpoa:oaInfo/hpoa:extraData[@hpoa:name="BoardType"]'));
document.getElementById('bodyContent').innerHTML=processor.getOutput();
if(tabId=='ipv6Tab'){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettingsIpv6.xsl');
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
}
if(tabId=='ipv4Tab'){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettings.xsl');
}
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',activeOaNetworkInfoDoc);
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(ACTIVE(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(ACTIVE()));
processor.addParameter('oaMode',ACTIVE());
processor.addParameter('isWizard','false');
var containerId='enc'+hpem.getEnclosureNumber()+'activeNetSettingsContainer';
var container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
if(getElementValueXpath(hpem.getOaStatusDOM(),'//hpoa:oaStatus[hpoa:oaRole="STANDBY"]/hpoa:bayNumber')!=''){
if(tabId=='ipv6Tab'){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettingsIpv6.xsl');
processor.addParameter('enclosureVersion',hpem.getActiveFirmwareVersion());
}
if(tabId=='ipv4Tab'){
processor=new XsltProcessor('../Wizards/wizardForms/OANetworkSettings.xsl');
}
processor.addParameter('stringsDoc',top.getStringsDoc());
processor.addParameter('encName',hpem.getEnclosureName());
processor.addParameter('encNum',hpem.getEnclosureNumber());
processor.addParameter('oaNetworkInfoDoc',hpem.getOaNetworkInfoByMode(STANDBY(),null,false));
processor.addParameter('oaStatusDoc',hpem.getOaStatusByMode(STANDBY(),null,false));
processor.addParameter('bayNum',hpem.getOaBayNumber(STANDBY()));
processor.addParameter('oaMode',STANDBY());
processor.addParameter('isWizard','false');
containerId='enc'+hpem.getEnclosureNumber()+'standbyNetSettingsContainer';
container=document.getElementById(containerId);
if(container){
container.innerHTML=processor.getOutput();
}
}else{
var standbyOuterContainer=document.getElementById('enc'+hpem.getEnclosureNumber()+'standbyOuterContainer');
if(standbyOuterContainer){
standbyOuterContainer.style.display='none';
}
}
try{
document.getElementById('waitContainer').style.display='none';
enableDisableControls(tabId);
}catch(e){}
reconcilePage();
}
else{
displayContentFailed('bodyContent',formMgr.getErrorsArray());
}
},true,'','bodyContent');
formMgr.startBatch(true,fresh);
formMgr.queueCall(hpem.getOaNetworkInfoAll);
formMgr.queueCall(hpem.getEnclosureNetworkInfo);
formMgr.endBatch();
}catch(e){
displayContentFailed('bodyContent',[e.message]);
}
reconcilePage();
}
function successCallback(success){
if(success){
var displayMgr=new DisplayManager('bodyContent','waitContainer','');
displayMgr.showMainScreen();
}
}
function successCallbackIpv6(success){
if(success){
var displayMgr=new DisplayManager('bodyContent','waitContainer','');
displayMgr.showMainScreen();
}
}
function successCallbackNic(success){
if(success){
var displayMgr=new DisplayManager('bodyContent','waitContainer','');
displayMgr.showMainScreen();
}
}
function toggleIpModeOld(){
var enableIpMode;
var isError=false;
try{
enableIpMode=document.getElementById('encIpMode').checked;
}catch(e){
enableIpMode=checked;
}
var ipStaticChk=document.getElementById('activeIPSettingStatic');
if(ipStaticChk){
var ipStatic=getInputValue('activeIPSettingStatic');
var displayControl=document.getElementById("oaNetSettingsErrorDisplay");
if(enableIpMode){
if(!ipStatic){
var errorString=top.getString('encIPreqStaticIPOldDesc1')+"<br />"+top.getString('encIPreqStaticIPOldDesc2');
displayControl.innerHTML=errorString;
displayControl.style.display='block';
isError=true;
}else{
displayControl.style.display='none';
}
}else{
displayControl.style.display='none';
}
}
if(isError){
ourButtonManager.disableButtonById('encIpApply');
}else{
ourButtonManager.enableButtonById('encIpApply');
}
}
function toggleIpMode(){
if(hpem.getEnclosureType()==EnclosureTypes.Unknown)
return;
if(hpem.getActiveFirmwareVersion()<4.00)
return toggleIpModeOld();
var isError=false;
var displayControl=document.getElementById("oaNetSettingsErrorDisplay");
if(getInputValue('encIpMode')==true){
var hasStaticAddr=false;
if(getInputValue('activeIPSettingStatic'))
hasStaticAddr=true;
else{
var oaNetInfo=hpem.getOaNetworkInfoByMode(ACTIVE(),null,false);
if(oaNetInfo&&getElementValueXpath(oaNetInfo,'//hpoa:oaNetworkInfo/hpoa:extraData[@hpoa:name="Ipv6Enabled"]')=='true')
for(var i=0;i<16;++i)
if(getElementValueXpath(oaNetInfo,'//hpoa:oaNetworkInfo/hpoa:extraData[@hpoa:name="Ipv6AddressType'+i+'"]')=='STATIC'){
hasStaticAddr=true;
break;
}
}
if(hasStaticAddr)
displayControl.style.display='none';
else{
displayControl.innerHTML=top.getString('539')+"<br />"+top.getString(getElementValueXpath(hpem.getEnclosureNetworkInfo(),"//hpoa:enclosureNetworkInfo/hpoa:extraData[@hpoa:name='IpSwap']")=='false'?'encIPreqStaticIPError1':'540');
displayControl.style.display='block';
isError=true;
}
}else
displayControl.style.display='none';
if(isError)
ourButtonManager.disableButtonById('encIpApply');
else
ourButtonManager.enableButtonById('encIpApply');
}
function toggleIpMode6Old(){
var isError=false;
var enableIpMode;
try{
enableIpMode=document.getElementById('encIpMode').checked;
}catch(e){
enableIpMode=checked;
}
var oaNetInfo=hpem.getOaNetworkInfoByMode(ACTIVE(),null,false);
if(oaNetInfo){
var ipDhcp=getElementValueXpath(oaNetInfo,"//hpoa:dhcpEnabled");
var displayControl=document.getElementById("oaNetSettingsErrorDisplay");
if(enableIpMode){
if(ipDhcp=='true'){
var errorString=top.getString('encIPreqStaticIPOldDesc1')+"<br />"+top.getString('encIPreqStaticIPOldDesc2');
displayControl.innerHTML=errorString;
displayControl.style.display='block';
isError=true;
}else{
displayControl.style.display='none';
}
}else{
displayControl.style.display='none';
}
}
if(isError){
ourButtonManager.disableButtonById('encIpApply');
}else{
ourButtonManager.enableButtonById('encIpApply');
}
}
function ipv6HasStaticAddr(){
return getInputValue('activeEnableIPv6')&&(getInputValue('ACTIVEStaticAddrIpv61'+encNum)||getInputValue('ACTIVEStaticAddrIpv62'+encNum)||getInputValue('ACTIVEStaticAddrIpv63'+encNum));
}
function ipv4HasStaticAddr(oaNetInfo){
return oaNetInfo&&getElementValueXpath(oaNetInfo,"//hpoa:dhcpEnabled")=='false';
}
function toggleIpMode6(){
if(hpem.getEnclosureType()==EnclosureTypes.Unknown)
return;
if(hpem.getActiveFirmwareVersion()<4.00)
return toggleIpMode6Old();
var isError=false;
var errorControl=document.getElementById("oaNetSettingsErrorDisplay");
if(getInputValue('encIpMode')==true){
var oaNetInfo=hpem.getOaNetworkInfoByMode(ACTIVE(),null,false);
var ipSwap=getElementValueXpath(hpem.getEnclosureNetworkInfo(),"//hpoa:enclosureNetworkInfo/hpoa:extraData[@hpoa:name='IpSwap']");
if(ipSwap=='true'&&!getInputValue('activeEnableIPv6')&&getElementValueXpath(oaNetInfo,"//hpoa:oaNetworkInfo/hpoa:extraData[@hpoa:name='Ipv6Enabled']")=='true'){
if(!ipv4HasStaticAddr(oaNetInfo)){
errorControl.innerHTML=top.getString('539')+"<br />"+top.getString('541');
errorControl.style.display='block';
ourButtonManager.disableButtonById('encIpApply');
}
return;
}
if(ipv6HasStaticAddr()||ipv4HasStaticAddr(oaNetInfo))
errorControl.style.display='none';
else{
errorControl.innerHTML=top.getString('539')+"<br />"+top.getString('encIPreqStaticIPError'+(ipSwap=='false'?'1':'2'));
errorControl.style.display='block';
isError=true;
}
}else
errorControl.style.display='none';
if(isError)
ourButtonManager.disableButtonById('encIpApply');
else
ourButtonManager.enableButtonById('encIpApply');
}
function setupOaNetSettingsNIC(useSelected,callbackFunction){
var hpems=top.getTopology().getSelectedProxies();
var hpemLocal=top.getTopology().getProxyLocal();
if(assertFalse(useSelected)){
hpemLocal=top.getTopology().getSelectedProxy();
hpems=[hpemLocal];
}
var callback;
if(isFunction(callbackFunction)){
callback=callbackFunction;
}else{
callback=stdSuccessCallback;
}
var confirmString=top.getString('confirmNicSettings1')+'\n';
confirmString+=top.getString('confirmNicSettings2')
if(confirm(confirmString)){
if(hpems.length>1){
var contentId='';
if(document.getElementById("bodyContent")!=null){
contentId="bodyContent";
}else{
contentId="stepInnerContent";
}
var formMgr=new FormManager(function(success){
if(success){
var formMgrFinish=new FormManager(callback,true,'oaNetSettingsErrorDisplay',contentId,'waitContainer');
formMgrFinish.createWaitContainer(top.getString('completingOaNetworkSettings'));
formMgrFinish.startBatch();
formMgrFinish.setCurrentEnclosureName(hpemLocal.getEnclosureName(),hpemLocal.getEnclosureNumber());
queueOaNetSettingsCallsNIC(hpemLocal,formMgrFinish);
formMgrFinish.endBatch();
}else{
setWizardButtonSetEnabled(true);
}
},true,'oaNetSettingsErrorDisplay',contentId,'waitContainer');
formMgr.createWaitContainer(top.getString('completingOaNetworkSettings'));
formMgr.startBatch();
for(var i=0;i<hpems.length;i++){
if(hpems[i].getIsLocal()==false){
queueOaNetSettingsCallsNIC(hpems[i],formMgr);
}
}
formMgr.endBatch();
}
else{
var contentId='';
if(document.getElementById("bodyContent")!=null){
contentId="bodyContent";
}else{
contentId="stepInnerContent";
}
var formMgr=new FormManager(callback,true,'oaNetSettingsErrorDisplay',contentId,'waitContainer');
formMgr.createWaitContainer(top.getString('completingOaNetworkSettings'));
formMgr.startBatch();
formMgr.setCurrentEnclosureName(hpemLocal.getEnclosureName(),hpemLocal.getEnclosureNumber());
queueOaNetSettingsCallsNIC(hpemLocal,formMgr);
formMgr.endBatch();
}
}
}
function setupOaNetSettingsAdvanced(){
var activeBayNum=hpem.getOaBayNumber('ACTIVE');
var standbyBayNum=hpem.getOaBayNumber('STANDBY');
var formMgr=new FormManager(function(success){
},false,'oaNetSettingsErrorDisplay','bodyContent','waitContainer');
formMgr.createWaitContainer(top.getString('completingAdvancedNetSettings'));
var activeOverrideDn=document.getElementById('overrideDn_ACTIVE').value;
var activeOverrideEnable=!document.getElementById('dnsOverrideACTIVE').checked;
formMgr.startBatch();
formMgr.queueCall(hpem.setOaUserDomainNameAndState,[activeBayNum,activeOverrideDn,activeOverrideEnable]);
if(standbyBayNum!=''){
var standbyOverrideDn=document.getElementById('overrideDn_STANDBY').value;
var standbyOverrideEnable=!document.getElementById('dnsOverrideSTANDBY').checked;
formMgr.queueCall(hpem.setOaUserDomainNameAndState,[standbyBayNum,standbyOverrideDn,standbyOverrideEnable]);
}
formMgr.endBatch();
}
</script>
</head>



		<body style="padding:0px;margin:10px;" onload="loadContent();">

  <div id="ID_BODY_PROXY">
    
    <table cellpadding="0" cellspacing="0" border="0" width="100%" ID="Table1">
      <tr>
        <td valign="bottom">
          <div class="tabSet" id="tabSet">
            <div class="tabOff" tabid="ipv4Tab" contextId="FORM_IPV4" id="ipv4Tab" contentLocation="../Templates/encIpv4NetSettings.xsl"><script>document.write(top.getString('ipv4Settings'));</script></div>
            <div class="tabOff" tabid="ipv6Tab" contextId="FORM_IPV6" id="ipv6Tab" contentLocation="../Templates/encIpv6NetSettings.xsl"><script>document.write(top.getString('ipv6Settings'));</script></div>
            <div class="tabOff" tabid="nicTab" contextId="FORM_NIC" id="nicTab" contentLocation="../Templates/encNicNetSettings.xsl"><script>document.write(top.getString('nicOptions'));</script></div>
            <div class="tabOff" tabid="advTab" contextId="FORM_ADV_SETTINGS" id="advTab" style="display:none;" contentLocation="../Templates/encAdvNetSettings.xsl"><script>document.write(top.getString('advSettings'));</script></div>
            <div class="tabBottomLine"></div>
          </div>
        </td>
      </tr>
      <tr>
        <td style="padding-top:10px;" id="contentTableCell">
          <div id="bodyContent"></div>
          <div id="waitContainer" class="waitContainer"></div>
        </td>
      </tr>
    </table>

    <script type="text/javascript">
if(typeof(TabManager)!="undefined"){
ourTabManager.init();
}
    </script>
    
  </div>
</body>
</html>
