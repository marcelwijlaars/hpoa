<?xml version="1.0" encoding="utf-8"?>  
<xsl:stylesheet version="1.0"   
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"  
  xmlns:fn="http://www.w3.org/2005/02/xpath-functions"
  xmlns:hpoa="hpoa.xsd"
  exclude-result-prefixes="hpoa fn">
     
  <xsl:output cdata-section-elements="script"/>
  
  <xsl:template match="*">    
    <xsl:choose>    
      <!-- on error -->
      <xsl:when test="//hpoa:errorCode">  
        <xsl:variable name="pageTitle">
          <xsl:choose>
            <xsl:when test="//hpoa:operationName='getConfigScript' or //hpoa:operationName='getConfigScirpt'">Configuration Script</xsl:when>
            <xsl:when test="//hpoa:operationName='showAll'">Enclosure Inventory</xsl:when>
            <xsl:otherwise><xsl:value-of select="//hpoa:operationName"/></xsl:otherwise>
          </xsl:choose>
        </xsl:variable>
        <html style="height:100%;">
          <head>
            <title >HP BladeSystem Onboard Administrator</title>
            <meta http-equiv="cache-control" content="no-cache"/>
            <link type="text/css" rel="stylesheet" href="../css/default.css"/>
            <link type="text/css" rel="stylesheet" href="../css/blue_theme.css"/>
            <link type="text/css" rel="stylesheet" href="../css/MxPortalEx.css"/>           
            <link type="text/css" rel="stylesheet" href="../css/widgets.css" />                
            <script type="text/javascript">
              function myOnload(){  
                /* add load code here */
              }
            </script>
          </head>
          <body id="theBody" class="body-proxy" onload="myOnload()">
            <table id="outerTable" cellpadding="0" cellspacing="0" border="0" style="height:100%;width:100%;">
              <tr>
                <td style="border:0px;padding:0px;margin:0px;height:39px;width:100%;">                  
                  <table class="applicationMastheadSmall" cellpadding="0" cellspacing="0" border="0" style="margin:0px;width:100%;height:100%;">
                    <tr style="padding:0px;border:0px;">
                      <td class="mastheadIcon" style="border:0px;padding-bottom:0px;">
                        <img src="/120814-042457/images/themes/blue/logo_hp_smallmasthead.gif" alt="HP" width="30" height="19" />
                      </td>
                      <td class="mastheadTitle" border="0" style="text-align:left;width:70%;border:0px;padding-bottom:0px;">
                        <h1 style="color: white;line-height:100%;"><xsl:value-of select="$pageTitle"/></h1>
                      </td>
                      <td style="padding:0px 7px 0px 7px;width:310px; background:url(/120814-042457/images/masthead_photo_small.jpg); background-repeat:no-repeat; background-position:center; background-color:white; "><div style="width:310px;"></div></td>
                      <td class="mastheadlinks" style="border-left:0px;padding:0px;width:30%;text-align:center;vertical-align:middle;"><a href="javascript:void(0);" onclick="javascript:self.close();">Close Window</a></td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr style="padding: 0px;">
                <td style="width: 100%; height:100%; padding: 5px; vertical-align: top;">
                  <table style="width:100%;height:100%;border:3px solid #cccccc;padding:0px;">
                    <tr>
                      <td style="vertical-align:top;padding:10px;">                       
                        <table cellpadding="0" cellspacing="0" border="0">
                          <tr>
                            <td>
                              <img border="0" src="/120814-042457/images/status_minor_32.gif" />
                            </td>
                            <td style="padding-left:10px;">
                              <b>Page Load Error: </b><xsl:value-of select="//hpoa:errorText"/>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table>
          </body>
        </html>                     
      </xsl:when>
      <!--on success--> 
      <xsl:otherwise>
        <html>
          <head>
            <title >HP BladeSystem Onboard Administrator</title>
            <meta http-equiv="cache-control" content="no-cache"/>
            <meta http-equiv="content-type" content="text/plain"/>
          </head>
          <body>        
            <xsl:value-of select="."/>
          </body>
        </html>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template> 
</xsl:stylesheet>