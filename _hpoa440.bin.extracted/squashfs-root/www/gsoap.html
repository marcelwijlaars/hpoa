<html xmlns="http://www.w3.org/1999/xhtml"><title></title>
<head>
  <title>gSOAP Library Analyzer 2</title>
  <link rel="SHORTCUT ICON" href="favicon.ico" />
  <link rel="stylesheet" type="text/css" href="/120814-042457/css/default.css"/>
  <link rel="stylesheet" type="text/css" href="/120814-042457/css/blue_theme.css"/>
  <link rel="stylesheet" type="text/css" href="/120814-042457/css/MxPortalEx.css"/>
  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9"/>
  <script type="text/javascript" src="/120814-042457/js/EnvironConstants.js"></script>
  <script type="text/javascript" src="/120814-042457/js/globalVars.js"></script>
  <script type="text/javascript" src="/120814-042457/js/alertManager.js"></script>
  <script type="text/javascript">
getBrowserInfo();
defaultAlert=window.alert;
var alertMgr=new AlertManager('/120814-042457/html/alertManager.html');
var gRootPath="";
function getAlertManager(){
return alertMgr;
}
  </script>
  <script type="text/javascript" src="/120814-042457/js/debugger.js"></script>
  <script type="text/javascript">gDebugReady=true;</script> 
  <script type="text/javascript" src="/120814-042457/js/global.js"></script>
  <script type="text/javascript" src="/120814-042457/js/helpTips.js"></script>
  <script type="text/javascript" src="/120814-042457/js/descriptor.js"></script>
  <script type="text/javascript" src="/120814-042457/js/listeners.js"></script>
  <script type="text/javascript" src="/120814-042457/js/domBuilder.js"></script>
  
  <script type="text/javascript" src="/120814-042457/js/formManager.js"></script>
  <script type="text/javascript" src="/120814-042457/js/displayManager.js"></script>
  <script type="text/javascript" src="/120814-042457/js/inputValidator.js"></script>
  <script type="text/javascript" src="/120814-042457/js/batchManager.js"></script>
  
  <script type="text/javascript" src="/120814-042457/js/events.js"></script>
  <script type="text/javascript" src="/120814-042457/js/hpem.js" ></script>
    
  <script type="text/javascript" src="/120814-042457/js/init.js"></script>
  <script type="text/javascript" src="/120814-042457/js/urllib.js"></script>
  <script type="text/javascript" src="/120814-042457/js/xml.js"></script>
  <script type="text/javascript" src="/120814-042457/js/xslt.js"></script>  
  <script type="text/javascript" src="/120814-042457/js/topology.js"></script>
  <script type="text/javascript" src="/120814-042457/js/http.js" ></script>  
  <script type="text/javascript" src="/120814-042457/js/callAnalyzer.js"></script>
  <script type="text/javascript" src="/120814-042457/js/globalSoap.js"></script>
  <script type="text/javascript" src="/120814-042457/js/transport.js"></script>
  <script type="text/javascript" src="/120814-042457/js/eventManager.js"></script>
  <script type="text/javascript" src="/120814-042457/js/globalModules.js"></script>
  <script type="text/javascript" src="/120814-042457/js/stringManager.js"></script>
  <script type="text/javascript" src="/120814-042457/Help/scripts/helpTools.js"></script>
  <script type="text/javascript" src="/120814-042457/Help/scripts/helpLauncher.js"></script>  

  <script type="text/javascript">  
var ourHelpLauncher=null;
function getHelpLauncher(){
if(typeof(HelpLauncher)!="undefined"&&ourHelpLauncher==null){
ourHelpLauncher=new HelpLauncher();
}
return ourHelpLauncher;
}
var NO_RESULT='No result was returned. See the attached '+
'list for a possible resolution.';
var NEED_CERTIFICATE='If this build is using SSL, '+
'there might be a problem with the certficate.';
var INVALID_CALL='may not be supported yet. Try another '+
'method that is known to work.';
var UNABLE_TO_PARSE='The soap service was not able to parse '+
'the data properly. This is a low-level problem.';
var INVALID_DATA='The soap service requires string data '+
'and will fail if sent binary data.';
var APACHE_500_ERROR='A 500 error may have occurred on the '+
'server. This is a system problem.';
var STRINGS_DOC_PATH='/120814-042457/Strings/strings.en.xml';
var DIAG_STRINGS_PATH='/120814-042457/Strings/diagnosticStrings.en.xml';
var isStandby=null;
var hpemObj=null;
var user='';
var pass='';
var wsdlDoc=null;
var logoutExpression="top.expireSession(true)";
var logoutTimerId=null;
var currentTimeoutValue=null;
var gBayNumber="1";
var gTargetId="1";
var gLastSearch="";
var gSsoSession=false;
var cacheItems=new Object();
var chromeCacheItems=new Object();
var templateCacheEnabled=true;
var currentFilter="All";
var MX_HIDDEN={
getUserInitiatedFlash:function(){return false;}
}
function myOnLoad(){
if(location.search.indexOf("eval=true")>-1){
openUtility("ExpressionEvaluator");
}
reconcilePage();
top.getTopology().setTopologyMode(TopologyModes.Local);
top.getTopology().getTopology(function(result){
initServiceUrl();
});
}
function getChromeCacheItem(url){
if(typeof(chromeCacheItems[url])!="undefined"){
if(gDebugOn==true){
top.logEvent(["Current chrome cache list."].concat(getCachedList()),null,8,1);
}
return chromeCacheItems[url];
}
return false;
};
function addChromeCacheItem(url,item){
if(templateCacheEnabled){
chromeCacheItems[url]=item;
}
}
function canCache(url){
for(var i in noCacheItems){
if((""+url).indexOf(noCacheItems[i])>-1){
return false;
}
}
return true;
}
function toggleTemplateCache(enable){
templateCacheEnabled=parseBool(enable);
}
function getCacheTemplate(templateName){
if(typeof(cacheItems[templateName])!="undefined"){
if(gDebugOn==true){
top.logEvent(["Current cacheList."].concat(getCachedList()),null,8,1);
}
return cacheItems[templateName];
}
return false;
}
function addCacheItem(url,item){
if(canCache(url)&&templateCacheEnabled){
if(!cacheItems[url]){
cacheItems[url]=item;
}
}
}
function removeCacheItem(url){
if(_browserInfo.browserName=="Chrome"){
if(typeof(chromeCacheItems[url])!="undefined"){
delete chromeCacheItems[url];
}
}else{
if(typeof(cacheItems[url])!="undefined"){
delete cacheItems[url];
}
}
}
function clearCacheItems(){
for(var url in(_browserInfo.browserName=="Chrome"?chromeCacheItems:cacheItems)){
removeCacheItem(url);
}
}
function getCachedList(){
var output=new Array();
for(var url in(_browserInfo.browserName=="Chrome"?chromeCacheItems:cacheItems)){
output.push(url);
}
return output;
}
function openUtility(type){
var w=720;
var h=screen.height-(document.all?135:80);
var l=(screen.width-10)-w;
var options="top=0,left="+l+",width="+w+",height="+h+",status=no,resizable=yes,scrollbars=no,menubar=yes";
var url="";
switch(type){
case "ExpressionEvaluator":
url="/120814-042457/html/eval.html?parent="+window.location.hostname;;
break;
default:
return;
}
window.open(url,type,options);
}
function startLogoutTimer(){
stopLogoutTimer();
if(currentTimeoutValue==null){
currentTimeoutValue=getApplicationTimeout();
}
if(currentTimeoutValue>0){
top.logEvent("Session Tracker: Timeout reset for "+currentTimeoutValue/60000+" minutes.",null,8,3);
logoutTimerId=window.setTimeout(logoutExpression,currentTimeoutValue);
}else{
top.logEvent("Session Tracker: Timeout Disabled.",null,8,3);
}
};
function stopLogoutTimer(){
if(logoutTimerId!=null){
window.clearTimeout(logoutTimerId);
logoutTimerId=null;
top.logEvent("Session Tracker: Timeout cleared.",null,8,3);
}
};
function expireSession(){
switch(getCurrentUserContext()){
case UserContextTypes.Login:
case UserContextTypes.LoadOrFlash:
break;
default:
alert(getString('logoutTimeout'),AlertMsgTypes.Information,0);
logout();
break;
}
};
function resetSessionTimeoutValue(){
currentTimeoutValue=getApplicationTimeout();
top.logEvent("Session Tracker: current timeout value updated to "+currentTimeoutValue+".",null,6,3);
startLogoutTimer();
};
function setSessionTimeoutValue(timeoutMS){
if(timeoutMS==0){
stopLogoutTimer();
currentTimeoutValue=timeoutMS;
}else{
currentTimeoutValue=timeoutMS*60*1000;
top.logEvent("Session Tracker: current timeout value updated to "+currentTimeoutValue+".",null,6,3);
startLogoutTimer();
}
}
function getSessionTimeoutValue(){
return currentTimeoutValue/60/1000;
}
function importWSDLnow(){
var dlg=document.getElementById("dlgWSDLImport");
var txtElem=document.getElementById("txtWSDL");
var img=document.getElementById("imgWSDLStatus");
var failureMsg="";
if(txtElem){
var wsdlText=txtElem.value;
if(wsdlText.indexOf("<definitions name=\"hpoa\"")>-1){
try{
wsdlDoc=top.getXml().parseXML(wsdlText);
}catch(e){
failureMsg=e.message;
}
if(failureMsg==""){
if(wsdlDoc.parseError&&wsdlDoc.parseError!=""){
failureMsg=wsdlDoc.parseError.reason;
}else if(wsdlDoc.documentElement&&wsdlDoc.documentElement.tagName=="parsererror"){
failureMsg=wsdlDoc.documentElement.textContent;
}else if(wsdlDoc.childNodes&&wsdlDoc.childNodes.length==1&&wsdlDoc.childNodes[0].nodeName=="html"){
failureMsg=wsdlDoc.childNodes[0].textContent;
}else if(wsdlDoc.childNodes&&(wsdlDoc.childNodes[0].nodeName=="definitions")||(wsdlDoc.childNodes[1].nodeName=="definitions")){
if(dlg){
dlg.style.display="none";
}
img.src="/120814-042457/images/icon_status_normal.gif";
}else{
failureMsg="An unknown error occurred.";
}
}
}else{
alert("Invalid WSDL text content.");
return;
}
}
if(failureMsg!=""){
wsdlDoc=null;
img.src="/120814-042457/images/icon_status_informational.gif";
alert("WSDL Import failed. "+failureMsg);
}
}
function loadSoapData(){
var dlg=document.getElementById("dlgWSDLImport");
if(dlg){
var txtElem=document.getElementById("txtWSDL");
if(txtElem){
txtElem.value="";
}
dlg.style.display="block";
focusElement("txtWSDL");
}
};
function getString(key){
return getStringManager().getString('//strings/value[@key="'+key+'"]');
}
function getStringXpath(xpath){
return getStringManager().getString(xpath);
}
function getErrorString(errorCode,errorType){
if(errorType==null||errorType==""){
return getString(errorCode);
}else{
return getStringManager().getString("//strings/value[@key='"+errorCode+"' and @type='"+errorType+"']");
}
}
function getStringsDoc(){
return getStringManager().getStringsDOM();
}
function initStrings(){
getStringManager().unload();
getStringManager().addDataFile(STRINGS_DOC_PATH);
getStringManager().addDataFile(DIAG_STRINGS_PATH);
}
function startSession(useCurrentSession){
document.getElementById('btnLogin').disabled=true;
if(useCurrentSession){
gSsoSession=true;
hpemObj.userLoginSSO(getCookieValue(LOCAL_ENC_COOKIE_NAME()));
document.getElementById('txtUsername').value=getCookieValue(LOCAL_ENC_USER_NAME());
document.getElementById('lblSessionKey').value=hpemObj.getProperty("SessionKey");
document.getElementById("lblPassKey").innerHTML="Session:";
document.getElementById('txtPassword').style.display="none";
document.getElementById('lblSessionKey').style.display="block";
document.getElementById('btnLogin').disabled=true;
document.getElementById('btnLogout').disabled=false;
initEvents();
return;
}
gSsoSession=false;
var loc=document.getElementById('serviceUrl').value;
try{
var doc=getUrlLib().sendRequest("GET",loc);
}catch(e){
alert("Could not connect to "+loc+"\n\n"+e.message);
document.getElementById('btnLogin').disabled=false;
return;
}
user=(document.getElementById('txtUsername').value);
pass=(document.getElementById('txtPassword').value);
hpemObj.userLogIn(user,pass,function(result){
if(result.xml!=''&&result.xml.indexOf(SOAP_FAULT_TEST())==-1){
var key=getElementValueXpath(result,"//"+OA_NAMESPACE()+":userLogInResponse/*/*/.");
document.getElementById('lblSessionKey').value=key;
document.getElementById("lblPassKey").innerHTML="Session:";
document.getElementById('txtPassword').style.display="none";
document.getElementById('lblSessionKey').style.display="block";
document.getElementById('btnLogout').disabled=false;
initEvents();
document.getElementById('result').value='Session Started\n\n'+result.xml;
}else{
document.getElementById('result').value=result.xml;
document.getElementById('btnLogin').disabled=false;
}
});
}
function killSession(){
if(!isSessionStarted()){
alert("No session key found.");
return;
}
if(gSsoSession==false||confirm("Removing this session may affect other sessions in the same browser window. Are you sure?")){
document.getElementById('btnLogout').disabled=true;
hpemObj.userLogOut(true,function(result){
if(getCallSuccess(result)==true){
document.getElementById('lblSessionKey').value="";
document.getElementById('lblSessionKey').style.display="none";
document.getElementById("lblPassKey").innerHTML="Password:";
document.getElementById('txtPassword').style.display="block";
document.getElementById('btnLogin').disabled=false;
myUnload();
document.getElementById('result').value="Session Ended\n\n"+result.xml;
}else if(result.xml==''||result.xml.indexOf(SOAP_FAULT_TEST())>-1){
document.getElementById('btnLogout').disabled=false;
document.getElementById('result').value="Logout Failed\n\n"+result.xml;
}
});
}
}
function isSessionStarted(){
return(getCookieValue(hpemObj.getCookieName())!="");
}
function initStandby(){
try{
var xmlhttp=importModule("urllib").sendRequest("GET",'/standby.xml');
isStandby=(xmlhttp.status==200);
}catch(e){
isStandby=false;
}
}
function checkStandby(){
if(isStandby==null){
initStandby();
}
return isStandby;
}
function keyPressIsEnter(e){
if(!e){
var e=window.event;
}
return(e.which||e.keyCode)==13;
};
function focusElement(id){
var elem=document.getElementById(id);
if(elem){
try{
elem.blur();
}catch(e1){}
window.setTimeout(function(){
try{
elem.focus();elem.select();
}catch(e2){}
},100);
}
}
function getRule(fieldName){
var name=fieldName.toLowerCase();
if(name.indexOf("ipaddress")>-1||name.indexOf("netmask")>-1||name.indexOf("gateway")>-1||name.indexOf("dns")==0){
return "6";
}else if(name.indexOf("email")>-1){
return "3";
}else{
return "6";
}
}
function addEnumControl(enums,name,index,parent){
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var cell4=document.createElement("td");
var select=document.createElement("select");
cell3.appendChild(select);
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
row.appendChild(cell4);
parent.appendChild(row);
for(var j=0;j<enums.length;j++){
if(document.all){
select.options.add(new Option(enums[j]),select.options.length);
}else{
select.appendChild(new Option(enums[j]));
}
}
select.id="input_"+index;
select.setAttribute("arg",name);
cell1.style.width="1%";
cell1.innerHTML=name;
cell2.style.width="10";
cell2.innerHTML="&nbsp;";
cell4.innerHTML="&nbsp;";
}
function addTextbox(name,index,parent){
var rule=getRule(name);
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var cell4=document.createElement("td");
var input=document.createElement("input");
if(name.indexOf('password')>-1){
input.type="password";
}
var div=document.createElement("div");
cell3.appendChild(input);
cell4.appendChild(div);
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
row.appendChild(cell4);
parent.appendChild(row);
input.id="input_"+index;
input.setAttribute("arg",name);
input.style.width="300px";
input.setAttribute("validate-me","true");
input.setAttribute("linked-error","error_"+index);
input.setAttribute("rule-list",rule);
addListener(input,"keypress",function(evt){if(keyPressIsEnter(evt)){makeCall();}});
cell1.style.width="1%";
cell1.innerHTML=name;
cell2.style.width="10";
cell2.innerHTML="&nbsp;";
cell3.style.paddingBottom="1px";
cell4.style.width="90%";
div.style.paddingBottom="0px";
div.innerHTML="&nbsp;";
cell4.style.verticalAlign="middle";
div.id="error_"+index;
div.className="errorDisplay";
div.style.display="block";
}
function addNumberbox(name,index,parent){
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var cell4=document.createElement("td");
var input=document.createElement("input");
var div=document.createElement("div");
cell3.appendChild(input);
cell4.appendChild(div);
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
row.appendChild(cell4);
parent.appendChild(row);
input.id="input_"+index;
input.setAttribute("arg",name);
input.style.width="100px";
input.setAttribute("validate-me","true");
input.setAttribute("linked-error","error_"+index);
input.setAttribute("rule-list","9");
addListener(input,"keypress",function(evt){if(keyPressIsEnter(evt)){makeCall();}});
if(document.getElementById("chkRecycle").checked){
switch(name){
case "bayNumber":
input.value=gBayNumber;
break;
case "targetId":
input.value=gTargetId;
break;
}
}
cell1.style.width="1%";
cell1.innerHTML=name;
cell2.style.width="10";
cell2.innerHTML="&nbsp;";
cell4.style.width="90%";
div.style.paddingBottom="0px";
div.id="error_"+index;
div.className="errorDisplay";
div.style.display="block";
}
function addRadioGroup(name,index,parent){
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var cell4=document.createElement("td");
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
row.appendChild(cell4);
parent.appendChild(row);
cell1.innerHTML=name;
cell1.style.width="1%";
cell2.style.width="10";
cell2.innerHTML="&nbsp;";
cell3.style.width="auto";
cell3.style.whiteSpace="nowrap";
cell3.innerHTML="<div id='input_"+index+"'><input id='opt"+name+"1' type='radio' name='grp"+name+"' value='true' checked='true' /><label for='opt"+name+"1'>true</label>&nbsp;&nbsp;<input id='opt"+name+"2' type='radio' name='grp"+name+"' value='false' /><label for='opt"+name+"2'>false</label></div>";
cell4.innerHTML="&nbsp;";
cell4.style.width="90%";
}
function addBayArray(name,total,index,parent){
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var text=document.createElement("textarea");
var builder=new StringBuilder("");
cell3.appendChild(text);
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
parent.appendChild(row);
cell1.style.width="1%";
cell1.style.verticalAlign="top";
cell1.innerHTML=name;
cell2.style.width="10";
cell2.innerHTML="&nbsp;";
cell3.colSpan="2";
builder.append('<'+OA_NAMESPACE()+':'+name+' '+OA_NAMESPACE_FULL()+'>\n');
for(var i=1;i<=total;i++){
builder.append('  <'+OA_NAMESPACE()+':bay>'+(i)+'</'+OA_NAMESPACE()+':bay>\n');
}
builder.append('</'+OA_NAMESPACE()+':'+name+'>');
text.value=builder.toString();
text.style.width="100%";
text.style.height="100px";
text.id="input_"+index;
text.setAttribute("arg",name);
}
function addComplexType(name,type,index,parent){
var row=document.createElement("tr");
var cell1=document.createElement("td");
var cell2=document.createElement("td");
var cell3=document.createElement("td");
var text=document.createElement("textarea");
cell3.appendChild(text);
row.appendChild(cell1);
row.appendChild(cell2);
row.appendChild(cell3);
parent.appendChild(row);
cell1.style.width="1%";
cell1.style.verticalAlign="top";
cell1.innerHTML=name;
cell2.style.widtth="10";
cell2.innerHTML="&nbsp;";
cell3.colSpan="2"
if(wsdlDoc!=null){
var processor=new XsltProcessor('/120814-042457/Templates/soap-complex-type.xsl');
processor.setSourceDocument(wsdlDoc);
processor.addParameter('type',OA_NAMESPACE()+':'+type);
processor.addParameter('name',name);
processor.addParameter('soapNS',OA_NAMESPACE()+':');
var result=processor.getOutput(true);
if(result.xml){
text.value=result.xml;
}else if(typeof(XMLSerializer)!="undefined"){
if(typeof(XML)!="undefined"){
try{
text.value=XML(new XMLSerializer().serializeToString(result)).toXMLString();
}catch(e){
text.value=(new XMLSerializer().serializeToString(result)).replace(/></g,">\n  <");
}
}else{
text.value=(new XMLSerializer().serializeToString(result)).replace(/></g,">\n  <");
}
}
}
text.style.width="100%";
text.style.height="100px";
text.id="input_"+index;
text.setAttribute("arg",name);
}
function convertToEnums(elementName,methodName){
if(wsdlDoc!=null){
var processor=new XsltProcessor('/120814-042457/Templates/soap-enums.xsl');
processor.setSourceDocument(wsdlDoc);
processor.addParameter('elementName',elementName);
processor.addParameter('methodName',methodName);
return(eval(processor.getOutput()));
}else{
return "";
}
}
function resetArgs(){
var tbody=document.getElementById("tblArgs");
if(tbody){
for(var c=tbody.childNodes.length-1;c>=0;c--){
tbody.removeChild(tbody.childNodes[c]);
}
var row=document.createElement("tr");
var cell1=document.createElement("td");
cell1.innerHTML="<em>Please select a method.</em>"
row.appendChild(cell1);
tbody.appendChild(row);
}
}
function assertBayArgument(value,negate){
return value;
}
function addArgs(paramArray,method){
var tbody=document.getElementById("tblArgs");
var ttlBays=assertBayArgument(document.getElementById("txtTotalBays").value);
if(tbody){
for(var c=tbody.childNodes.length-1;c>=0;c--){
tbody.removeChild(tbody.childNodes[c]);
}
if(!isArray(paramArray)||paramArray.length==0){
var row=document.createElement("tr");
var cell1=document.createElement("td");
cell1.innerHTML="<em>No arguments required.</em>"
row.appendChild(cell1);
tbody.appendChild(row);
return;
}
for(var i=0;i<paramArray.length;i++){
var param=paramArray[i].split(":");
var name=param[0];
var type=param[1];
switch(type){
case "string":
var enums=convertToEnums(name,method);
if(isArray(enums)){
addEnumControl(enums,name,i,tbody);
}else{
addTextbox(name,i,tbody);
}
break;
case "int":
case "unsignedInt":
case "hexBinary":
case "base64Binary":
case "byte":
case "short":
case "unsignedShort":
addNumberbox(name,i,tbody);
break;
case "boolean":
addRadioGroup(name,i,tbody);
break;
case "bayArray":
if(method.indexOf("get")!=0){
addBayArray(name,1,i,tbody);
}else{
addBayArray(name,ttlBays,i,tbody);
}
break;
default:
addComplexType(name,type,i,tbody);
break;
}
}
}
}
function getUserInput(container){
var args=[];
if(container){
var elems=container.getElementsByTagName("*");
for(var i=0;i<elems.length;i++){
var elem=elems[i];
if(elem.id.indexOf("input_")==0){
top.logEvent("GSOAP: parsing "+elem.id,null,1,1);
switch(elem.tagName.toLowerCase()){
case "textarea":
args.push((getXml().parseXML(elem.value)).documentElement);
break;
case "div":
var radios=elem.getElementsByTagName("input");
for(var j=0;j<radios.length;j++){
if(radios[j].checked){
args.push(radios[j].value);
}
}
break;
case "input":
switch(elem.getAttribute("arg")){
case "bayNumber":
gBayNumber=elem.value;
break;
case "targetId":
gTargetId=elem.value;
break;
}
args.push(elem.value);
break;
case "select":
args.push(elem.options[elem.selectedIndex].text);
break;
default:
args.push(null);
break;
}
}
}
}
return args;
}
function getAuthenticated(){
if(hpemObj.getProperty("IsAuthenticated")==true){
var chkAnonymous=document.getElementById("chkAnonymous");
if(chkAnonymous){
return!chkAnonymous.checked;
}
}else{
return false;
}
};
function getMaxWait(){
var txtMaxWait=document.getElementById("txtMaxWait");
if(txtMaxWait&&isInteger(txtMaxWait.value)){
return parseInt(txtMaxWait.value*1000);
}
return null;
};
function makeCall(){
if(document.getElementById('methodName').selectedIndex==-1){
alert("Please choose a method before attempting to call the soap service.");
document.getElementById('methodName').focus();
return;
}
var validator=new InputValidator(null,null,true);
if(document.getElementById("chkValidate").checked&&!validator.allInputsValidate()){
validator.updateMessages(true);
return;
}else{
validator.clearMessages();
}
var loc=document.getElementById('serviceUrl').value;
try{
var doc=getUrlLib().sendRequest("GET",loc);
}catch(e){
alert("Could not connect to "+loc+"\n\n"+e.message);
return;
}
document.getElementById('result').value='';
document.getElementById('soapRequest').value='';
var methodName=document.getElementById('methodName')[document.getElementById('methodName').selectedIndex].value;
var paramArray=getUserInput(document.getElementById("tblArgs"));
var errMsg='';
top.logEvent("gSoap: Making call: "+methodName,null,1,8);
try{
eval("hpemObj.callMethod(methodName, paramArray, callBack, "+getAuthenticated()+", null, "+getMaxWait()+");");
}catch(err){
alert("Call Failed: "+err.message);
document.getElementById("result").value="No Result: Error Occurred";
document.getElementById("soapRequest").value="No Request: Error Occurred";
}
}
function callBack(result,method){
var resultText='';
var resultTextBox=document.getElementById('result');
if(result.xml==''){
resultText=NO_RESULT+'\n\n';
resultText+='1. '+NEED_CERTIFICATE+'\n\n';
resultText+='2. Method \"'+method+'\" '+INVALID_CALL;
}else{
resultText+=result.xml;
}
resultTextBox.value=resultText;
}
String.prototype.startsWith=function(sStart){
return(this.substr(0,sStart.length)==sStart);
}
function updateMethodList(type){
currentType=type;
var testType=type.toLowerCase();
var descriptorList=new Array();
var methodList=document.getElementById('methodName');
methodList.innerHTML="";
for(var prop in descriptor){
var testProp=prop.toLowerCase();
switch(testType){
case "all":
descriptorList.push(prop);
break;
case "other":
if(!(testProp.startsWith("get")||testProp.startsWith("set"))){
descriptorList.push(prop);
}
break;
default:
if(testProp.startsWith(testType)){
descriptorList.push(prop);
}
break;
};
}
descriptorList.sort();
for(var i=0;i<descriptorList.length;i++){
var option=new Option(descriptorList[i],descriptorList[i]);
var optionIndex=methodList.options.length;
methodList.options[optionIndex]=option;
}
methodList.selectedIndex=-1;
}
function initServiceUrl(){
getTransport().getCallAnalyzer().init("/120814-042457/Strings/gsoap-map.xml");
initStrings();
hpemObj=top.getTopology().getProxyLocal();
hpemObj.getSoapInterfaceInfo(function(result){
var compiledVersion=getElementValueXpath(result,"//hpoa:compiledDateTime");
if(compiledVersion!=""){
var fwElem=document.getElementById("lblFwVer");
if(fwElem){
fwElem.innerHTML="&nbsp;<span style='color:#000'>[</span>"+compiledVersion+"<span style='color:#000'>]</span>";
}
}
});
document.getElementById('serviceUrl').value=hpemObj.getProperty("SoapUrl");
updateMethodList("All");
if(getCookieValue(LOCAL_ENC_COOKIE_NAME())!=''){
startSession(true);
}
myOnResize();
}
function formatParamInfo(paramArray,fn){
var titleString="Parameter Information:\n\n";
var fnString=fn+"( ";
var bulletString="";
if(paramArray.length==0){
return(titleString+fnString+")");
}else{
for(var i=0;i<paramArray.length;i++){
var notice="";
fnString+=paramArray[i].split(":")[1]+(i==paramArray.length-1?"":", ");
bulletString+=(i+1)+". "+paramArray[i]+notice+"\n";
}
return(titleString+(fnString+" )\n\n")+bulletString);
}
}
function methodNameChanged(append){
var cbo=document.getElementById("methodName");
if(cbo&&cbo.selectedIndex>-1){
var methodName=cbo.options[cbo.selectedIndex].value;
var params=eval("descriptor."+methodName+".params");
var paramInfo=formatParamInfo(params,methodName);
document.getElementById('lblParams').title=(document.all?paramInfo:params.toString());
if(append==true){
document.getElementById('result').value+='\n\n'+paramInfo;
}else{
document.getElementById('result').value=paramInfo;
}
addArgs(params,methodName);
myOnResize();
}
}
function resizeResultWindow(rows){
document.getElementById('result').rows=rows;
document.getElementById('soapRequest').rows=rows;
}
function recolorResultWindow(values){
var colors=values.split(";");
var div1=document.getElementById('divRequest');
var div2=document.getElementById('divResult');
var win1=document.getElementById('soapRequest');
var win2=document.getElementById('result');
if(div1.style.display=='block'){
win1.style.backgroundColor=colors[0];
win1.style.color=colors[1];
}
if(div2.style.display=='block'){
win2.style.backgroundColor=colors[0];
win2.style.color=colors[1];
}
}
function toggleWindows(type){
var divResult=document.getElementById('divResult');
var divRequest=document.getElementById('divRequest');
if(type=='request'){
divRequest.style.display='block';
divResult.style.display='none';
}else{
divRequest.style.display='none';
divResult.style.display='block';
}
}
function initEvents(){
if(!isSessionStarted()){
alert("No session key found.");
return;
}
var lblElem=document.getElementById('lblEventsReceived');
var debug=document.getElementById('chkDebugMode');
var led=document.getElementById('imgEvent');
ourEventMgr=new EventManager(hpemObj,lblElem,debug,led);
}
function resetEvents(){
if(isSessionStarted()){
ourEventMgr.reset();
document.getElementById('result').value='Response';
}
}
function showEvents(){
if(isSessionStarted()){
document.getElementById('optResult').checked=true;
toggleWindows('result');
document.getElementById('result').value=ourEventMgr.getEventList();
}
}
function toggleEventing(){
var btn=document.getElementById('btnToggleEventing');
try{
if(btn.value=='start events'){
if(!isSessionStarted()){
alert("Please login before starting events.");
return;
}
ourEventMgr.start();
}else{
ourEventMgr.stop();
}
}catch(e){
alert("Events not available at this time: "+e.message);
}
}
function myUnload(){
try{
if(ourEventMgr.turnedOn){
ourEventMgr.stop();
}
}catch(e){}
}
function myOnResize(){
var win1=document.getElementById('soapRequest');
var win2=document.getElementById('result');
var page=getDocumentCoords(document.body);
if(win1){
try{win1.style.height=(page.height-win1.parentNode.parentNode.offsetTop-15)+"px";}catch(e){}
}
if(win2){
try{win2.style.height=(page.height-win2.parentNode.parentNode.offsetTop-15)+"px";}catch(e){}
}
}
function findMethod(){
var method=prompt("Find a method using all or part of its name (case insensitive):",gLastSearch);
if(method!=null&&method!=""){
gLastSearch=method;
var test=method.toLowerCase();
var select=document.getElementById("methodName");
for(var i=0;i<select.options.length;i++){
if(select.options[i].text.toLowerCase().indexOf(test)>-1){
select.options[i].selected=true;
select.focus();
methodNameChanged();
return;
}
}
alert("No matches for '"+method+"'"+(currentType=="All"?"":"\n\nTIP: Set the Method Filter option to All and try again.\n\n"));
document.getElementById("aFind").focus();
}
}
function EventManager(hpem,eventLabelElement,debugMode,ledImage){
var me=this;
this.hpem=hpem;
this.events=new Array();
this.maxEvents=100;
this.timerId=0;
this.eventCount=0;
this.eventLabel=eventLabelElement;
this.debugModeElement=debugMode;
this.debugModeElement.owner=this;
this.ledImage=ledImage;
this.srcOn="/120814-042457/images/uid_green_on.gif";
this.srcOff="/120814-042457/images/uid_blue_off.gif";
this.srcPing="/120814-042457/images/uid_blue_on.gif";
this.turnedOn=false;
this.eventHandler=function(payload,method){
var errMsg='';
if(!(me.turnedOn)){
return;
}
if(me.debugModeElement.checked==false){
if(getElementValueXpath(payload,"//"+OA_NAMESPACE()+":event")=="EVENT_HEARTBEAT"){
return;
}
}
if(payload.xml==""){
errMsg=(NO_RESULT+'\n\n1. '+UNABLE_TO_PARSE+'\n2. '+INVALID_DATA+'\n3. '+APACHE_500_ERROR);
}
me.eventCount++;
me.eventLabel.innerHTML=me.eventCount+(me.eventCount==1?' event':' events')+' received';
while(me.events.length>=me.maxEvents){
me.events.pop();
}
try{
me.events.unshift("Event: "+me.eventCount+"\n"+(errMsg==''?payload.xml:errMsg));
}catch(e){
me.events.unshift("Event: "+me.eventCount+"\n"+e.message);
}
me.updateLED();
}
this.getNextEvent=function(){
if(me.turnedOn){
me.hpem.getNextEvent(true,arguments.callee);
}
}
this.reset=function(){
this.events=new Array();
this.eventCount=0;
if(this.turnedOn){
this.eventLabel.innerHTML='0 events received';
}
}
this.start=function(){
this.hpem.registerForEvents(function(success){
if(success){
me.eventLabel.style.color='#038';
me.ledImage.src=me.srcOn;
me.eventLabel.innerHTML=me.eventCount+
(me.eventCount==1?' event':' events')+' received';
me.turnedOn=true;
me.hpem.registerEventHandler(me.eventHandler);
me.hpem.toggleEventDebugMode(true);
me.hpem.getNextEvent(true,me.getNextEvent);
document.getElementById('btnToggleEventing').value="stop events";
}else{
alert('Event registration failed!');
}
});
}
this.stop=function(){
this.eventLabel.style.color='black';
this.eventLabel.innerHTML='Events Off';
this.hpem.removeRegisteredHandler(this.eventHandler);
this.hpem.toggleEventDebugMode(false);
this.turnedOn=false;
this.hpem.stopEvents();
this.ledImage.src=this.srcOff;
document.getElementById('btnToggleEventing').value="start events";
}
this.getEventList=function(){
if(this.events.length==0){
return 'No events received';
}else{
return this.events.join("\n\n");
}
}
this.updateLED=function(){
this.ledImage.src=this.srcPing;
this.eventLabel.style.color="blue";
if(this.timerId==0){
this.timerId=window.setTimeout(function(){me.timerResponse();},1500);
}
}
this.timerResponse=function(){
this.ledImage.src=(this.turnedOn?this.srcOn:this.srcOff);
this.eventLabel.style.color=(this.turnedOn?"#038":"black");
this.timerId=0;
}
};
  </script>

</head>
<body style="margin: 0px; padding: 0px; overflow: auto;" onload="myOnLoad();" onunload="myUnload();" onresize="myOnResize();">
  <table style="border-collapse: collapse; margin: 0px; width: 100%; height: 100%;border: 0px; padding: 0px; background-color: threedface;">
    <tr>
      <!-- masthead area -->
      <td colspan="4">
        <table class="applicationMastheadSmall" border="0" style="width: 100%;" cellpadding="0"
          cellspacing="0">
          <tr>
            <td class="mastheadIcon" width="1%">
              <img border="0" hspace="7" src="/120814-042457/images/themes/blue/logo_hp_smallmasthead.gif" alt=""
                width="30" height="19" />
            </td>
            <td class="mastheadTitle" width="50%">
              <h1 style="color: white;">
                <span style="font-size: 70%;">g</span>SOAP Library Analyzer 2&trade;</h1>
            </td>
            <td>
              <div class="mastheadPhoto">
                <img border="0" src="/120814-042457/images/masthead_photo_small.jpg" alt="" width="310" height="39" /></div>
            </td>
            <td class="mastheadLinks" style="white-space: nowrap; width: 10%; vertical-align: middle;
              padding-left: 20px;">
              <button onclick="location.reload();" style="width: 90px;vertical-align:middle;">Refresh Page</button>
              <span style="margin-left:10px;"><a href="javascript:void(0);" onclick="getHelpLauncher().openReferenceHelp('DgSoapHelp');">Help</a></span>
            </td>
          </tr>
        </table>
      </td>
    </tr>    
    <tr>
      <!-- input area -->
      <td valign="top" style="padding-bottom:2px;">
        <table cellpadding="2" cellspacing="0" border="0">
          <tr>
            <td style="white-space: nowrap;">
              Service URL:
            </td>
            <td width="10">&nbsp;</td>
            <td colspan="2" style="padding-top:3px;padding-bottom:0px;">
              <input style="padding-left: 3px;" id="serviceUrl" type="text" size="50" />
            </td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td id="lblParams" style="cursor:pointer;">
              Method:
            </td>
            <td width="10">&nbsp;</td>
            <td colspan="2" style="vertical-align:middle;padding-top:4px;">
              <select style="width: 100%;" id="methodName" name="methodName" onchange="methodNameChanged();">
              </select>              
            </td>
            <td><a align="left" id="aFind" href="javascript:void(0);" onclick="findMethod()"><img src="/120814-042457/images/find.gif" border="0" alt="" title="Find Method" /></a></td>
          </tr>
          <tr>
            <td style="padding-top:2px;white-space:nowrap;">
              Method Filter:
            </td>
            <td width="10">&nbsp;</td>
            <td style="padding-top:2px;vertical-align:middle;white-space:nowrap;">
              <input id="radAll" onclick="updateMethodList(this.value);" checked="checked" name="grpFilter" type="radio" value="All" /><label for="radAll">All</label>
              <input id="radGet" onclick="updateMethodList(this.value);" name="grpFilter" type="radio" value="Get" style="margin-left:8px;"/><label for="radGet">Gets</label>
              <input id="radSet" onclick="updateMethodList(this.value);" name="grpFilter" type="radio" value="Set" /><label for="radSet">Sets</label>
              <input id="radOther" onclick="updateMethodList(this.value);" name="grpFilter" type="radio" value="Other" /><label for="radOther">Other</label>
            </td>
            <td style="text-align:right;vertical-align:top;">
              <input type="button" style="width: 120px;height:28px;margin-right:0px;vertical-align:middle;" value="Make Call" onclick="makeCall();" />           
            </td>
            <td>&nbsp;</td>
          </tr>
        </table>
      </td>
      <td valign="top" style="padding-left:5px;">
        <table cellpadding="2" cellspacing="0" border="0">
          <tr>
            <td>
              Username:
            </td>
            <td width="5">&nbsp;</td>
            <td>
              <input type="text" id="txtUsername" init-focus="true" value="Administrator" style="margin-left:0px;" />
            </td>
            <td>
              <input onclick="startSession();" type="button" style="width: 60px;margin:0px;" id="btnLogin" value="sign in" />
            </td>
          </tr>
          <tr>
            <td id="lblPassKey">
              Password:
            </td>
            <td width="5">&nbsp;</td>
            <td id="sessionKey">
              <input style="margin-left:0px; color: #003388; display: none;" id="lblSessionKey" type="text" value="" />
              <input style="margin-left:0px; display: block;" type="password" id="txtPassword" onfocus="this.select();" onkeypress="if (keyPressIsEnter(event)){return startSession();}" value="" />
            </td>
            <td>
              <input onclick="killSession();" id="btnLogout" disabled="disabled" style="width: 60px;" type="button" value="sign out" />
            </td>
          </tr>
        </table>
      </td>
      <td style="vertical-align:top;">
        <table cellpadding="2" cellspacing="0" border="0">
          <tr>
            <td style="white-space:nowrap;">
              <table cellspacing="0" cellpadding="0" style="margin-left:0px;padding: 0px;">
                <tr>
                  <td>
                    <input type="button" id='btnToggleEventing' style="margin-left:3px;width:88px;" value="start events" onclick="toggleEventing();" />
                  </td>
                  <td style="padding-left: 7px; padding-right:5px; vertical-align: middle; width: 10%;">
                    <img id="imgEvent" alt="" src="/120814-042457/images/uid_blue_off.gif" style="border:0px;margin:0px;width: 17; height: 17;" />
                  </td>
                  <td style="white-space:nowrap;vertical-align:middle;" id="lblEventsReceived">Events Off</td>
                  <td style="white-space:nowrap;">
                    <table cellpadding="0" cellspacing="0" border="0">
                      <tr>
                        <td>
                          <input type="checkbox" id="chkDebugMode" style="margin-left:9px;" checked />
                        </td>
                        <td style="vertical-align:middle;white-space:nowrap;">
                          <label for="chkDebugMode">Capture Heartbeats</label>
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
            </td>
            <td style="width: 3px">
            </td>
          </tr>
          <tr>
            <td style="white-space: nowrap;">
              <input type="button" value="show events" style="margin-left:3px;width:88px;" onclick="showEvents();" />
              <input type="button" value="reset events" style="margin-left:7px;width:88px;" onclick="resetEvents();" />
            </td>
            <td style="width: 3px; white-space: nowrap">
            </td>
            <td></td>
          </tr>
        </table>
      </td>
      <td style="width: 50%; padding-left: 20px; vertical-align: top;">
        &nbsp;
      </td>
    </tr>
    <tr>
      <td colspan="4" style="border-top:1px solid gray;padding-left:5px;padding-right:5px;padding-top:2px;padding-bottom:0px;">    
        <form name="frmArgs" action="">   
          <table cellpadding="3" cellspacing="0" border="0">
            <tr>
              <td style="font-size:12px;font-weight:bold;">Arguments</td>
              <td style="vertical-align:middle;padding-right:0px;"><input type="checkbox" id="chkValidate" style="margin-left:10px;" /></td>              
              <td style="vertical-align:middle;padding-left:0px;"><label for="chkValidate">Enable Client-Side Validation</label></td>  
              <td style="vertical-align:middle;padding-right:0px;"><input type="checkbox" id="chkAnonymous" style="margin-left:10px;" /></td>              
              <td style="vertical-align:middle;padding-left:0px;"><label for="chkAnonymous">Anonymous</label></td> 
              <td style="vertical-align:middle;padding-right:0px;"><input type="checkbox" id="chkRecycle" style="margin-left:10px;" checked /></td>
              <td style="vertical-align:middle;padding-left:0px;"><label for="chkRecycle">Recycle Bay Number</label></td>          
              <td style="vertical-align:middle;padding-left:16px;padding-right:0px;"><label title="">Bay Array Size</label></td>
              <td style="vertical-align:middle;padding-left:5px"><input type="text" id="txtTotalBays" style="width:45px;text-align:center;" value="1" onkeypress="if (keyPressIsEnter(event)){focusElement('methodName');methodNameChanged();return false;}" /></td>
              <td style="vertical-align:middle;padding-left:16px;padding-right:0px;"><label title="Enter 0 to override the Max Wait">Max Wait (seconds)</label></td>
              <td style="vertical-align:middle;padding-left:5px"><input type="text" id="txtMaxWait" style="width:45px;text-align:center;" value="60" /></td>
            </tr>
          </table>
        </form>
        <br />
        <table style="padding-left:5px;" cellpadding="2" cellspacing="0" border="0" width="100%">
          <tbody id="tblArgs">
            <tr><td><em>Please select a method.</em></td></tr>
            <!-- this table to be populated at runtime -->
          </tbody>
        </table>
        <table align="right" cellpadding="2" cellspacing="0" border="0">
          <tr>
            <td style="vertical-align:middle;padding-right:8px;">
              <button style="width: 120px;height:28px;margin-right:0px;vertical-align:middle;" onclick="loadSoapData();">
                <img style="margin:0px 5px -3px -3px;border:0px;width:13px;height:13px;" id="imgWSDLStatus" src="/120814-042457/images/icon_status_informational.gif" />Import WSDL
              </button>
            </td>
            <td style="vertical-align:middle;padding-right:0px;">
              <input style="margin-bottom:4px;margin-right:0px;" name="grpView" onclick="toggleWindows('request');" type="radio" id="optRequest" value='1' />
            </td>
            <td style="vertical-align:middle;padding-right:8px;">
              <label for="optRequest">View Request</label>
            </td>
            <td style="vertical-align:middle;padding-right:0px;">
              <input style="margin-bottom:4px;margin-right:0px;" name="grpView" onclick="toggleWindows('result');" style="margin-left:8px;" checked="checked" type="radio" id="optResult" value='2' />
            </td>
            <td style="vertical-align:middle;padding-right:8px;">
              <label for="optResult">View Response</label>
            </td>
            <td style="padding-left:8px;">
              Theme:
            </td>
            <td style="padding-right:2px;">
              <select style="width: 80px;" onchange="recolorResultWindow(this.options[this.selectedIndex].value);">
                <option value="DarkOrange;Black">Amber</option>
                <option value="Black;White">Black</option>
                <option value="MidnightBlue;Aqua">Blue</option>
                <option value="Gainsboro;Black">Gray</option>
                <option value="#004400;Lime">Green</option>
                <option value="#990000;Lime">Red</option>
                <option selected="selected" value="Window;WindowText">System</option>
                <option value="#222222;lime">Terminal</option>
                <option value="White;Black">White</option>
                <option value="LemonChiffon;DarkSlateGray">Yellow</option>
              </select>
            </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td colspan="4" style="vertical-align: top; padding: 5px; padding-top:0px;height: 100%;">
        <div id="divRequest" style="display: none;">
          <textarea id="soapRequest" style="font-family: monospace; font-size: 14px; border: ridge;
            width: 100%; background: Window; color: WindowText;" cols="80" rows="28">Request</textarea>
        </div>
        <div id="divResult" style="display: block;">
          <textarea id="result" style="font-family: monospace; font-size: 14px; border: ridge;
            width: 100%; background: Window; color: WindowText;" cols="80" rows="28">Response</textarea>
        </div>
      </td>
    </tr>
  </table>
  <div id="dlgWSDLImport" style="display:none;border:outset;background-color:#eee;padding:10px;width:800px;height:auto;position:absolute;left:4px;top:10px;">
    <h5>Copy/paste the text content of the WSDL file that matches this Onboard Administrator's firmware build<label id="lblFwVer" style="color:#0000FF"></label>:</h5>
    
    <textarea tabindex="1" style="width:100%;height:300px;margin-bottom:10px;" id="txtWSDL"></textarea>
    <a href="javascript:void(0);" onclick="alert('WSDL stands for Web Services Description Language. Without the WSDL file, this utility cannot automatically discover complex types or enumerations needed to construct certain SOAP calls. Importing the WSDL file for this Onboard Administrator\'s SOAP service makes this utility fully capable of auto-populating arguments for enumerations and complex types.')">What's this?</a>
    <button tabindex="2" style="float:right;width:150px;height:28px;" id="btnImportWSDL" onclick="importWSDLnow();">Import WSDL Now</button>
    <button tabindex="3" style="float:right;width:150px;height:28px;margin-right:10px;" id="btnCancel" onclick="document.getElementById('dlgWSDLImport').style.display = 'none';">Cancel</button>
  </div>
</body>
</html>
